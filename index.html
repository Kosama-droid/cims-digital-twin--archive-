<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
  <title>CIMS | Digital Twin</title>
  <link rel="icon" type="image/x-icon" href="static/logos/cims.ico" />
  <link rel="stylesheet"
    href="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v5.0.0/mapbox-gl-geocoder.css" type="text/css">
  <link rel="stylesheet" href="styles.css?v=1.1">
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@100;300;400;700&display=swap" rel="stylesheet" />
</head>

<body class="hide-overflow">
  <header>
    <nav id="top-container" class="row flex-container">
      <a id="icdt-button" title="Imagine Canada's Digital Twin"><img src="static/logos/icdt-logo.png"
          alt="Imagine Canada's Digital Twin" height="55px" />
      </a>

      </div>
      <a id="search-button" name="Search" class="white-icon selected-button" title="Search bar">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
          <path
            d="M23.809 21.646l-6.205-6.205c1.167-1.605 1.857-3.579 1.857-5.711 0-5.365-4.365-9.73-9.731-9.73-5.365 0-9.73 4.365-9.73 9.73 0 5.366 4.365 9.73 9.73 9.73 2.034 0 3.923-.627 5.487-1.698l6.238 6.238 2.354-2.354zm-20.955-11.916c0-3.792 3.085-6.877 6.877-6.877s6.877 3.085 6.877 6.877-3.085 6.877-6.877 6.877c-3.793 0-6.877-3.085-6.877-6.877z" />
        </svg>
      </a>
      <div id="geocoder" class="geocoder"></div>
      <div id="selectors" class="selectors">
        <select id="place-select" class="selector hidden">
          <option class="option" value="none">-- Select Place --</option>
          <option class="option" id="add-place">(+) Add new place</option>
        </select>
        <select id="object-select" class="selector hidden">
          <option class="option" value="none">-- Select Object --</option>
          <option class="option" id="add-object">(+) Add new object</option>
        </select>
      </div>
      <a id="close-window" name="Close window" class="white-icon hidden" title="Close window">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
          <path
            d="m12.002 2.005c5.518 0 9.998 4.48 9.998 9.997 0 5.518-4.48 9.998-9.998 9.998-5.517 0-9.997-4.48-9.997-9.998 0-5.517 4.48-9.997 9.997-9.997zm0 1.5c-4.69 0-8.497 3.807-8.497 8.497s3.807 8.498 8.497 8.498 8.498-3.808 8.498-8.498-3.808-8.497-8.498-8.497zm0 7.425 2.717-2.718c.146-.146.339-.219.531-.219.404 0 .75.325.75.75 0 .193-.073.384-.219.531l-2.717 2.717 2.727 2.728c.147.147.22.339.22.531 0 .427-.349.75-.75.75-.192 0-.384-.073-.53-.219l-2.729-2.728-2.728 2.728c-.146.146-.338.219-.53.219-.401 0-.751-.323-.751-.75 0-.192.073-.384.22-.531l2.728-2.728-2.722-2.722c-.146-.147-.219-.338-.219-.531 0-.425.346-.749.75-.749.192 0 .385.073.531.219z" />
        </svg>
      </a>
      <a id="message" class="hidden"></a>
      <a id="right-menu-button" class="white-icon" name="Show side menu" title="Show side menu">
        <svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 24 24"><path d="M24 6h-24v-4h24v4zm0 4h-24v4h24v-4zm0 8h-24v4h24v-4z"/></svg>
      </a>
    </nav>
    <div id="loader-container" class="loader-container hidden">
      <div class="loader"></div>
      <a id="progress-text"></a>
    </div>
  </header>

  <nav id="right-container" class="column flex-container hidden">
    <nav class="toolbar start column">
      <a class="white-icon" id="tools-button" name="Tools" title="Open tools menu">
        <svg viewBox="0 0 27 28" xmlns="http://www.w3.org/2000/svg"><path d="M26.1535 7.45477C26.7143 6.89395 26.7143 5.98801 26.1535 5.42719L22.0839 1.35763C21.5231 0.796806 20.6171 0.796806 20.0563 1.35763L13.5997 7.81428L8.00583 2.22043C6.88419 1.09879 5.05792 1.09879 3.93628 2.22043L1.20406 4.95264C0.0824189 6.07429 0.0824189 7.90056 1.20406 9.0222L6.79791 14.616L0.3125 21.1015V27.1986H6.40965L12.9094 20.6988L18.5033 26.2927C19.8694 27.6588 21.71 27.1555 22.5728 26.2927L25.305 23.5604C26.4267 22.4388 26.4267 20.6125 25.305 19.4909L19.7112 13.897L26.1535 7.45477ZM3.24603 6.98023L5.96386 4.24802L7.79013 6.07429L6.09328 7.78552L8.12087 9.8131L9.8321 8.10188L11.5577 9.82748L8.8255 12.5597L3.24603 6.98023ZM19.3948 17.679L17.6836 19.3902L19.7112 21.4178L21.4224 19.7066L23.2487 21.5329L20.5165 24.2651L14.9226 18.6712L17.6549 15.939L19.3948 17.679ZM5.2161 24.3226H3.18851V22.295L17.0078 8.47576L18.8772 10.3452L19.0353 10.5033L5.2161 24.3226ZM19.0353 6.43379L21.0629 4.4062L23.0905 6.43379L21.0629 8.46138L19.0353 6.43379Z"/></svg>
      </a>
      <div id="tools-container" class="end column hidden lines">
        <a id="add-place-button" name="Add new place" title="Add new place" class="white-icon hidden">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path
              d="M12 3c2.131 0 4 1.73 4 3.702 0 2.05-1.714 4.941-4 8.561-2.286-3.62-4-6.511-4-8.561 0-1.972 1.869-3.702 4-3.702zm0-2c-3.148 0-6 2.553-6 5.702 0 3.148 2.602 6.907 6 12.298 3.398-5.391 6-9.15 6-12.298 0-3.149-2.851-5.702-6-5.702zm0 8c-1.105 0-2-.895-2-2s.895-2 2-2 2 .895 2 2-.895 2-2 2zm8 6h-3.135c-.385.641-.798 1.309-1.232 2h3.131l.5 1h-4.264l-.344.544-.289.456h.558l.858 2h-7.488l.858-2h.479l-.289-.456-.343-.544h-2.042l-1.011-1h2.42c-.435-.691-.848-1.359-1.232-2h-3.135l-4 8h24l-4-8zm-12.794 6h-3.97l1.764-3.528 1.516 1.528h1.549l-.859 2zm8.808-2h3.75l1 2h-3.892l-.858-2z" />
          </svg>
        </a>
        <nav id="new-place-container" class="double-list-container hidden">
          <div id="new-place-location">province, city</div>
          <input id="place-name" class="new-item-name" type="name" name="Name" placeholder="Place Name" />
          <div class="item"><label for="place-id">Place ID:</label></div>
          <div class="item">
            <input id="place-id" type="name" name="Place ID" />
          </div>
          <div>Place area:</div>
          <div id="calculated-area" class="gray-underline"></div>
          <div><br></div>
          <div></div>
          <button id="upload-place" class="button">Upload place</button>
          <button id="cancel-new-place" class="button">Cancel</button>
        </nav>
        <a id="add-object-button" name="Add new object" title="Add new object" class="white-icon hidden">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path
              d="M12 0c-5.522 0-10 4.395-10 9.815 0 5.505 4.375 9.268 10 14.185 5.625-4.917 10-8.68 10-14.185 0-5.42-4.478-9.815-10-9.815zm0 18c-4.419 0-8-3.582-8-8s3.581-8 8-8 8 3.582 8 8-3.581 8-8 8zm4-7h-3v3h-2v-3h-3v-2h3v-3h2v3h3v2z" />
          </svg>
        </a>
        <nav id="new-object-container" class="double-list-container hidden">
          <div id="new-object-location">province, city, place</div>
          <input id="object-name" class="new-item-name" type="name" name="Name" placeholder="Object Name" />
          <div class="item"><label for="object-id">Object ID:</label></div>
          <div class="item">
            <input id="object-id" type="name" name="Object ID" />
          </div>
          <div><br></div>
          <div></div>
          <div class="item" title="Load 3d model (gltf, or ifc)"><label for="object-model-input">Load object 3d
              model:</label></div>
          <div class="item load-file">
            <input class="load-file inactive" type="file" id="object-model-input"
              accept=".glb, .gltf, .ifc, .fbx, .obj" />
          </div>
          <div class="item">
            <label for="object-true-north">Rotate true north:</label>
          </div>
          <div class="item">
            <input id="object-true-north" type="range" min="0" max="360" step="0.1" value="0" class="slider"
              name="Rotate true north" oninput="this.nextElementSibling.value = this.value" /><output>0</output>
          </div>
          <div class="item"><label for="object-lng">Longitude:</label></div>
          <div class="item">
            <input id="object-lng" type="number" name="Longitud" />
          </div>
          <div class="item"><label for="object-lat">Latitude:</label></div>
          <div class="item">
            <input id="object-lat" type="number" name="Latitude" />
          </div>
          <div class="item">
            <label for="object-msl">Mts above sea level:</label>
          </div>
          <div class="item">
            <input id="object-msl" type="number" name="Meters above sea level:" />
          </div>

          <div class="item">
            <button id="upload-object" class="button inactive">Upload object</button>
          </div>
          <div class="item">
            <button id="cancel-new-object" class="button">Cancel</button>
          </div>
        </nav>
      </div>
      <a id="layers-button" class="white-icon" name="layers"  title="Hide layers">
        <svg viewBox="0 0 27 29"  xmlns="http://www.w3.org/2000/svg"><path d="M13.2402 24.6606L2.64207 16.4208L0.3125 18.2327L13.2546 28.2988L26.1966 18.2327L23.8527 16.4064L13.2402 24.6606ZM13.2546 21.0081L23.8383 12.7683L26.1966 10.942L13.2546 0.875977L0.3125 10.942L2.65645 12.7683L13.2546 21.0081ZM13.2546 4.51413L21.5087 10.942L13.2546 17.3699L5.0004 10.942L13.2546 4.51413Z" /></svg>
      </a>
      <div id="layers-container" class="column hidden lines">
        <a id="osm-button" name="Buldings" title="Show buildings" class="white-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path
              d="M21 22h2v2h-22v-2h2v-22h18v22zm-10-3h-2v4h2v-4zm4 0h-2v4h2v-4zm4-17h-14v20h2v-5h10v5h2v-20zm-12 11h2v2h-2v-2zm4 0h2v2h-2v-2zm4 0h2v2h-2v-2zm-8-3h2v2h-2v-2zm4 0h2v2h-2v-2zm4 0h2v2h-2v-2zm-8-3h2v2h-2v-2zm4 0h2v2h-2v-2zm4 0h2v2h-2v-2zm-8-3h2v2h-2v-2zm4 0h2v2h-2v-2zm4 0h2v2h-2v-2z" />
          </svg>
        </a>
      </div>
      <a id="share-view-button" name="Share view" title="Share view" class="white-icon">
        <svg viewBox="0 0 27 27" xmlns="http://www.w3.org/2000/svg"><path d="M23.3206 23.3221H3.18851V3.18998H13.2546V0.313965H3.18851C1.59233 0.313965 0.3125 1.60817 0.3125 3.18998V23.3221C0.3125 24.9039 1.59233 26.1981 3.18851 26.1981H23.3206C24.9024 26.1981 26.1966 24.9039 26.1966 23.3221V13.256H23.3206V23.3221ZM16.1306 0.313965V3.18998H21.293L7.15741 17.3256L9.185 19.3532L23.3206 5.21757V10.38H26.1966V0.313965H16.1306Z"/></svg>
      </a>
      <a id="styles-button" name="Map styles" title="Select map style" class="white-icon">
        <svg viewBox="0 0 27 27" xmlns="http://www.w3.org/2000/svg"><path d="M25.476 0.313965L25.246 0.357102L17.5675 3.33359L8.94 0.313965L0.83015 3.04601C0.528187 3.14666 0.3125 3.40549 0.3125 3.73621V25.4775C0.3125 25.8801 0.628842 26.1965 1.03146 26.1965L1.26153 26.1533L8.94 23.1768L17.5675 26.1965L25.6773 23.4644C25.9793 23.3638 26.195 23.1049 26.195 22.7742V1.03292C26.195 0.630307 25.8787 0.313965 25.476 0.313965ZM10.3779 3.86562L16.1296 5.8787V22.6448L10.3779 20.6317V3.86562ZM3.18833 5.28916L7.50208 3.83686V20.6605L3.18833 22.3285V5.28916ZM23.3192 21.2213L19.0054 22.6736V5.86432L23.3192 4.19634V21.2213Z"/></svg>
      </a>
      <div id="styles-container" class="left column hidden lines" style="margin: 1.5rem; width: 20rem;">
        <h1>< &ensp; Maps</h1>
        <a id="map-style" name="Map mode" title="Map mode" class="white-icon row space-between pointer">
          <h2>Streets</h2> <img src="static\icons\streets.png" alt="">
        </a>
        <a id="satellite-style" name="Satellite mode" title="Satellite mode" class="white-icon row space-between pointer">
          <h2>Satelite</h2> <img src="static\icons\satellite.png" alt="">
        </a>
        <a id="light-style" name="Light mode" title="Light mode" class="white-icon row space-between pointer">
          <h2>Light</h2> <img src="static\icons\light.png" alt="">
        </a>
        <a id="dark-style" name="Dark mode" title="Dark mode" class="white-icon row space-between pointer">
          <h2>Dark</h2> <img src="static\icons\dark.png" alt="">
        </a>
        <a id="traffic-style" name="Traffic mode" title="Traffic mode" class="white-icon row space-between pointer">
          <h2>Traffic</h2> <img src="static\icons\streets.png" alt="">
        </a>
      </div>
      <div id="windows" class="column">
        <a id="login-button" name="Login" class="white-icon" title="Log in or Register">
          <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.2501 3.62797C13.8319 3.62797 15.1262 4.92217 15.1262 6.50398C15.1262 8.08578 13.8319 9.37999 12.2501 9.37999C10.6683 9.37999 9.37413 8.08578 9.37413 6.50398C9.37413 4.92217 10.6683 3.62797 12.2501 3.62797ZM12.2501 18.008C16.1328 18.008 20.5906 19.8631 20.8782 20.884H3.62211C3.95285 19.8487 8.38191 18.008 12.2501 18.008ZM12.2501 0.751953C9.07215 0.751953 6.49812 3.32598 6.49812 6.50398C6.49812 9.68197 9.07215 12.256 12.2501 12.256C15.4281 12.256 18.0022 9.68197 18.0022 6.50398C18.0022 3.32598 15.4281 0.751953 12.2501 0.751953ZM12.2501 15.132C8.41067 15.132 0.746094 17.0589 0.746094 20.884V23.76H23.7542V20.884C23.7542 17.0589 16.0896 15.132 12.2501 15.132Z"/></svg>
        </a>
        <a id="info-button" name="Information" class="white-icon" title="Information">
          <svg viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M13.821 7.57821H16.697V10.4542H13.821V7.57821ZM13.821 13.3302H16.697V21.9583H13.821V13.3302ZM15.259 0.388184C7.32117 0.388184 0.878906 6.83045 0.878906 14.7682C0.878906 22.706 7.32117 29.1483 15.259 29.1483C23.1968 29.1483 29.639 22.706 29.639 14.7682C29.639 6.83045 23.1968 0.388184 15.259 0.388184ZM15.259 26.2723C8.91736 26.2723 3.75492 21.1098 3.75492 14.7682C3.75492 8.42664 8.91736 3.2642 15.259 3.2642C21.6006 3.2642 26.763 8.42664 26.763 14.7682C26.763 21.1098 21.6006 26.2723 15.259 26.2723Z"/></svg>
        </a>
        <div id="info-container" class="hidden">
          <img src="static\images\icdt-libraries-dark.png" alt="CDT applications" width="900px" max-height="100%">
        </div>
        <a id="settings-button" name="Settings" class="white-icon" title="Open settings window">
          <svg viewBox="0 0 29 30" xmlns="http://www.w3.org/2000/svg"><path d="M24.9354 16.6887C24.9929 16.2286 25.0361 15.7684 25.0361 15.2796C25.0361 14.7907 24.9929 14.3305 24.9354 13.8704L27.9694 11.4978C28.2426 11.2821 28.3145 10.8939 28.142 10.5776L25.2661 5.60238C25.1367 5.37231 24.8923 5.2429 24.6334 5.2429C24.5472 5.2429 24.4609 5.25728 24.389 5.28604L20.8086 6.72395C20.0609 6.14879 19.2556 5.67427 18.3785 5.31479L17.8321 1.50432C17.789 1.15922 17.487 0.900391 17.1275 0.900391H11.3759C11.0164 0.900391 10.7144 1.15922 10.6713 1.50432L10.1249 5.31479C9.24774 5.67427 8.4425 6.16317 7.69479 6.72395L4.11437 5.28604C4.0281 5.25728 3.94182 5.2429 3.85555 5.2429C3.6111 5.2429 3.36666 5.37231 3.23725 5.60238L0.361412 10.5776C0.174483 10.8939 0.260758 11.2821 0.533962 11.4978L3.56797 13.8704C3.51045 14.3305 3.46731 14.805 3.46731 15.2796C3.46731 15.7541 3.51045 16.2286 3.56797 16.6887L0.533962 19.0613C0.260758 19.277 0.188862 19.6652 0.361412 19.9815L3.23725 24.9567C3.36666 25.1868 3.6111 25.3162 3.86993 25.3162C3.9562 25.3162 4.04248 25.3018 4.11437 25.2731L7.69479 23.8352C8.4425 24.4103 9.24774 24.8848 10.1249 25.2443L10.6713 29.0548C10.7144 29.3999 11.0164 29.6587 11.3759 29.6587H17.1275C17.487 29.6587 17.789 29.3999 17.8321 29.0548L18.3785 25.2443C19.2556 24.8848 20.0609 24.3959 20.8086 23.8352L24.389 25.2731C24.4753 25.3018 24.5615 25.3162 24.6478 25.3162C24.8923 25.3162 25.1367 25.1868 25.2661 24.9567L28.142 19.9815C28.3145 19.6652 28.2426 19.277 27.9694 19.0613L24.9354 16.6887ZM22.0883 14.2299C22.1459 14.6756 22.1602 14.9776 22.1602 15.2796C22.1602 15.5815 22.1315 15.8979 22.0883 16.3292L21.887 17.9541L23.1668 18.9606L24.7197 20.1685L23.7132 21.9084L21.887 21.175L20.3916 20.5711L19.0975 21.5489C18.4792 22.009 17.8896 22.3541 17.3001 22.5986L15.7759 23.2169L15.5458 24.8417L15.2582 26.7829H13.2451L12.9719 24.8417L12.7419 23.2169L11.2177 22.5986C10.5994 22.3397 10.0242 22.009 9.44904 21.5776L8.14054 20.5711L6.61635 21.1894L4.7902 21.9227L3.78365 20.1829L5.3366 18.975L6.61635 17.9685L6.41504 16.3436C6.3719 15.8979 6.34314 15.5671 6.34314 15.2796C6.34314 14.992 6.3719 14.6613 6.41504 14.2299L6.61635 12.605L5.3366 11.5985L3.78365 10.3906L4.7902 8.65076L6.61635 9.3841L8.11178 9.98802L9.40591 9.01024C10.0242 8.55011 10.6138 8.20501 11.2033 7.96056L12.7275 7.34226L12.9576 5.71741L13.2451 3.77622H15.2438L15.5171 5.71741L15.7471 7.34226L17.2713 7.96056C17.8896 8.21939 18.4648 8.55011 19.0399 8.98148L20.3485 9.98802L21.8726 9.36972L23.6988 8.63638L24.7053 10.3763L23.1668 11.5985L21.887 12.605L22.0883 14.2299ZM14.2517 9.52789C11.0739 9.52789 8.50002 12.1018 8.50002 15.2796C8.50002 18.4574 11.0739 21.0312 14.2517 21.0312C17.4295 21.0312 20.0034 18.4574 20.0034 15.2796C20.0034 12.1018 17.4295 9.52789 14.2517 9.52789ZM14.2517 18.1554C12.67 18.1554 11.3759 16.8613 11.3759 15.2796C11.3759 13.6978 12.67 12.4037 14.2517 12.4037C15.8334 12.4037 17.1275 13.6978 17.1275 15.2796C17.1275 16.8613 15.8334 18.1554 14.2517 18.1554Z"/></svg>
        </a>
    </nav>

    <nav class="toolbar end">
    </nav>

  </nav>
  <div id="map-container" class="hide-overflow canvas all-pointer-events">
    <div id="map" class="map"></div>
  </div>

  <div class="iframe-container hidden" id="iframe-container"></div>

  <script src="https://api.mapbox.com/mapbox-gl-js/v2.9.1/mapbox-gl.js"></script>
  <link href="https://api.mapbox.com/mapbox-gl-js/v2.9.1/mapbox-gl.css" rel="stylesheet" />
  <!-- MAPLIBRE -->
  <!-- <script src='https://unpkg.com/maplibre-gl@latest/dist/maplibre-gl.js'></script> -->
  <!-- <link href='https://unpkg.com/maplibre-gl@latest/dist/maplibre-gl.css' rel='stylesheet' /> -->

  <script src="https://cdn.jsdelivr.net/npm/@turf/turf@6/turf.min.js"></script>
  <script src="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-draw/v1.2.2/mapbox-gl-draw.js"></script>
  <script
    src="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v5.0.0/mapbox-gl-geocoder.min.js"></script>

  <script src="dist/mapbox-bundle.js"></script>
  <div id="viewer-container" class="canvas"></div>
  <!-- <script src="dist/maplibre-bundle.js"></script> -->
</body>

</html>