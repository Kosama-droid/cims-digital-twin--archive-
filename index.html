<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>CIMS | Digital Twin</title>
  <link rel="icon" type="image/x-icon" href="static/logos/cims.ico" />
  <link rel="stylesheet" href="styles.css?v=1.1">
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@100;300;400;700&display=swap" rel="stylesheet" />
</head>

<body class="hide-overflow">
  <header>
    <a id="icdt"><img src="static/logos/icdt-logo.png" alt="CIMSlab"
        title="Imagine Canada's Digital Twin" height="55px" />
    </a>  
    <nav class="nav-bar" id="nav-bar">
      <div id="selectors" class="all-pointer-events">
        <select id="style-select" class="selector hidden">
          <option class="option" value="none">-- select map style --</option>
        </select>
        <select id="province-select" class="selector">
          <option class="option" value="none">
            -- Province or Territory --
          </option>
        </select>
        <select id="city-select" class="selector">
          <option class="option" value="none">-- City --</option>
        </select>
        <select id="place-select" class="selector">
          <option class="option" value="none">-- Place --</option>
          <option class="option" id="add-place">(+) Add new place</option>
        </select>
        <select id="object-select" class="selector">
          <option class="option" value="none">-- Object --</option>
          <option class="option" id="add-object">(+) Add new object</option>
        </select>
      </div>
      <div id="loader-container" class="loader-container hidden">
        <div class="loader"></div>
        <a id="progress-text"></a>
      </div>
    </nav>
  </header>

  <nav id="new-place-container" class="add-new-container hidden">
    <div id="new-place-location">province, city</div>
    <input id="place-name" class="new-item-name" type="name" name="Name" placeholder="Place Name" />
    <div class="item"><label for="place-id">Place ID:</label></div>
    <div class="item">
      <input id="place-id" type="name" name="Place ID" />
    </div>
    <div><br></div>
    <div></div>
    
      <button id="create-place" class="button">Redo place polygon</button>
      <div></div>
      <div>Place area:</div>
      <div id="calculated-area"></div>
    
    <!-- <div class="item"><label for="place-lng">Longitude:</label></div>
    <div class="item">
      <input id="place-lng" type="number" name="Longitud" />
    </div>
    <div class="item"><label for="place-lat">Latitude:</label></div>
    <div class="item">
      <input id="place-lat" type="number" name="Latitude" />
    </div>
    <div class="item">
      <label for="place-msl">Meters above sea level:</label>
    </div>
    <div class="item">
      <input id="place-msl" type="number" name="Meters above sea level:" />
    </div>
    <div class="item">
      <label for="place-msl">Rotate true north:</label>
    </div>
    <div class="item">
      <input id="place-true-north" type="range" min="0" max="359" value="0" class="slider" name="Rotate true north"
        oninput="this.nextElementSibling.value = this.value" /><output>0</output>
    </div> -->

   <div><br></div>
   <div><br></div>
      <button id="upload-place" class="button">Upload new place</button>
      <button id="cancel-new-place" class="button">Cancel</button>
  </nav>
  <nav id="new-object-container" class="add-new-container hidden">
    <div id="new-object-location">province, ontario, place</div>
    <input id="object-name" class="new-item-name" type="name" name="Name" placeholder="Object Name" />
    <div class="item"><label for="object-id">Object ID:</label></div>
    <div class="item">
      <input id="object-id" type="name" name="Object ID" />
    </div>
    <div><br></div>
    <div></div>
    <div class="item"><label for="object-lng">Longitude:</label></div>
    <div class="item">
      <input id="object-lng" type="number" name="Longitud" />
    </div>
    <div class="item"><label for="object-lat">Latitude:</label></div>
    <div class="item">
      <input id="object-lat" type="number" name="Latitude" />
    </div>
    <div class="item">
      <label for="object-msl">Meters above sea level:</label>
    </div>
    <div class="item">
      <input id="object-msl" type="number" name="Meters above sea level:" />
    </div>
    <div class="item">
      <label for="object-msl">Rotate true north:</label>
    </div>
    <div class="item">
      <input id="object-true-north" type="range" min="0" max="359" value="0" class="slider" name="Rotate true north"
        oninput="this.nextElementSibling.value = this.value" /><output>0</output>
    </div>
    <div><br></div>
    <div></div>
    <div class="item"><label for="object-glb-input">Load object 3d model:</label></div>
    <div class="item load-file">
      <input class="load-file" type="file" id="object-glb-input" accept=".glb, .gltf" />
    </div>
    <div class="item"><label for="object-ifc-input">Load object IFC:</label></div>
    <div class="item load-file">
      <input class="load-file" type="file" id="object-ifc-input" accept=".ifc" />
    </div>
    <div class="item"><br /></div>
    <div class="item"></div>
    <div class="item">
      <button id="upload-object" class="button">Upload new object</button>
    </div>
    <div class="item">
      <button id="cancel-new-object" class="button">Cancel</button>
    </div>
  </nav>
  </nav>
  <nav class="toolbar-container bottom">
    <div class="toolbar" id="toolbar">
      <a class="button transp1-background circular info" id="osm" name="OSM objects" title="Show OSM objects">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
          <path
            d="M21 22h2v2h-22v-2h2v-22h18v22zm-10-3h-2v4h2v-4zm4 0h-2v4h2v-4zm4-17h-14v20h2v-5h10v5h2v-20zm-12 11h2v2h-2v-2zm4 0h2v2h-2v-2zm4 0h2v2h-2v-2zm-8-3h2v2h-2v-2zm4 0h2v2h-2v-2zm4 0h2v2h-2v-2zm-8-3h2v2h-2v-2zm4 0h2v2h-2v-2zm4 0h2v2h-2v-2zm-8-3h2v2h-2v-2zm4 0h2v2h-2v-2zm4 0h2v2h-2v-2z" />
        </svg>
      </a>
    </div>
    <div id="toolbar-right-button" class="permanent">
      <a class="button transp1-background circular selected-button" name="layers" id="layers" title="Hide layers">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
          <path
            d="M21.698 10.658l2.302 1.342-12.002 7-11.998-7 2.301-1.342 9.697 5.658 9.7-5.658zm-9.7 10.657l-9.697-5.658-2.301 1.343 11.998 7 12.002-7-2.302-1.342-9.7 5.657zm0-19l8.032 4.685-8.032 4.685-8.029-4.685 8.029-4.685zm0-2.315l-11.998 7 11.998 7 12.002-7-12.002-7z" />
        </svg>
      </a>
    </div>
  </nav>
  <div id="full-screen-flex-container">
    <a id="message" class="centre transp1-background circular hidden"></a>
  </div>
  <div class="hide-overflow canvas all-pointer-events">
    <div id="map" class="map" ></div>
  </div>

  <a id="close-bim-viewer" title="Close BIM viewer" class="hidden all-pointer-events">
    <svg class="icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
      <path
        d="m12.002 2.005c5.518 0 9.998 4.48 9.998 9.997 0 5.518-4.48 9.998-9.998 9.998-5.517 0-9.997-4.48-9.997-9.998 0-5.517 4.48-9.997 9.997-9.997zm0 1.5c-4.69 0-8.497 3.807-8.497 8.497s3.807 8.498 8.497 8.498 8.498-3.808 8.498-8.498-3.808-8.497-8.498-8.497zm0 7.425 2.717-2.718c.146-.146.339-.219.531-.219.404 0 .75.325.75.75 0 .193-.073.384-.219.531l-2.717 2.717 2.727 2.728c.147.147.22.339.22.531 0 .427-.349.75-.75.75-.192 0-.384-.073-.53-.219l-2.729-2.728-2.728 2.728c-.146.146-.338.219-.53.219-.401 0-.751-.323-.751-.75 0-.192.073-.384.22-.531l2.728-2.728-2.722-2.722c-.146-.147-.219-.338-.219-.531 0-.425.346-.749.75-.749.192 0 .385.073.531.219z"
        fill-rule="nonzero" />
    </svg>
  </a>
  <div class="bim-container hidden" id="bim-container"></div>
  <script src="https://api.mapbox.com/mapbox-gl-js/v2.9.1/mapbox-gl.js"></script>
  <link
    href="https://api.mapbox.com/mapbox-gl-js/v2.9.1/mapbox-gl.css"
    rel="stylesheet"
  />
  <script src="https://cdn.jsdelivr.net/npm/@turf/turf@6/turf.min.js"></script>
  <script src="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-draw/v1.2.2/mapbox-gl-draw.js"></script>
  
<link rel="stylesheet" href="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-draw/v1.2.2/mapbox-gl-draw.css" type="text/css">

  <script src="dist/map-bundle.js"></script>
  </body>
</html>